@page "/order/prepreport"
@inject IJSRuntime jsRuntime

@using System.Security.Claims;
@using Microsoft.AspNetCore.Authorization
@using ZXingBlazor.Components
@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Grids
@using Syncfusion.Blazor.Notifications
@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.Spinner
@using HashtilERP.Shared.Models
@using Syncfusion.Blazor.Inputs
@using Microsoft.AspNetCore.SignalR.Client
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Data
@using System.ComponentModel.DataAnnotations;

@inject NavigationManager NavigationManager
@inject HttpClient Http

@attribute [Authorize(Roles = "Administrator,Viewer,Manager-GreenHouse,Manager-Oren,AuditAvgCounter,Manager-Drivers")]
    <div style="text-align:right" class="alert alert-success" role="alert">
        <h3 style="text-align:center">דוח תיאום הוצאות</h3>
    </div>
@code {
    public K_Order[] K_Orders;
    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }
    //Get list Of K_Passport Objects
    protected async Task LoadData()
    {
        K_Orders = await Http.GetFromJsonAsync<K_Order[]>("api/KOrder/PrepReport");
        StateHasChanged();
    }
}
